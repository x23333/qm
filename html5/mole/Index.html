<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>打腚鼠</title>
    <link rel="stylesheet" href="./style.css">
    <link href='https://fonts.googleapis.com/css?family=Amatic+SC:400,700' rel='stylesheet' type='text/css'>

</head>
<body>
    <h1>whack-a-mole!
        <span class="score">0</span>
    </h1>
    <button class="start" onclick="startGame()">Start!</button>
    <div class="game">
        <div class="hole hole1">
            <div class="mole"></div>
        </div>
        <div class="hole hole2">
            <div class="mole"></div>
        </div>
        <div class="hole hole3">
            <div class="mole"></div>
        </div>
        <div class="hole hole4">
            <div class="mole"></div>
        </div>
        <div class="hole hole5">
            <div class="mole"></div>
        </div>
        <div class="hole hole6">
            <div class="mole"></div>
        </div>
    </div>
    <script>
    const holes = document.querySelector('.hole');
    const scoreBoard = document.querySelector('.score');
    const moles = document.querySelector('mole');
    let score = 0;
    let lastHole;//状态， 上一次是哪个洞，新随机产生的是一样的话，再随机一次，否则 lasthole = 刚刚生成的随机数
    let timeUp = false;//游戏结束
    let isPlaying = false;//游戏正在进行

    function startGame() {
        if(isPlaying) return;
        scoreBoard.textContent = 0;
        timeUp = false;
        score = 0;
        isPlaying = true;
        setTimeout(() => {
            timeUp=true;
            isPlaying = false;
            alert('Game Over!')
        },20000);
    }

    function peep (){
        this.parentNode.classList.add('up');

    }
    function bonk(e) {
        score++;
        this.parentNode.classList.remove('up');
        scoreBoard.textContent = score;
    }
    
    moles.forEach(mole => mole.addEvenListener('click'),bonk);
    


    </script>
</body>
</html>